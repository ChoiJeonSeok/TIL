# 3. 메모리 관리

## 메모리 계층 구조

### **캐시 메모리**
- **정의**: 캐시 메모리는 CPU 내부 또는 인접한 공간에 위치한, 속도가 매우 빠른 메모리이다. CPU가 빠르게 접근할 수 있도록 자주 사용되는 데이터와 명령어 등을 저장한다.
- **역할**: 데이터 접근 시간을 줄여 CPU의 성능을 최적화하는 것. 캐시 메모리가 있어 모든 작업을 할 때 주 메모리(RAM)을 통하지 않아도 된다.
- **위치**: 물리적으로 CPU와 주 메모리(RAM) 사이에 위치하며, CPU가 자주 접근하는 데이터와 명령어를 저장하여 빠른 처리를 가능하게 한다.
  - L1 캐시: CPU 코어에 가장 가까이 위치하며, 매우 빠른 속도를 제공하지만 용량이 작다.
  - L2 캐시: L1보다는 크고 느린 편이지만 여전히 빠르며, L1 캐시와 CPU 코어 사이에 위치한다.
  - L3 캐시: CPU 내의 여러 코어 간에 공유될 수 있는 더 큰 캐시로, L1과 L2보다는 느리지만 대용량의 데이터를 저장할 수 있다.

### **주 메모리(RAM)**
- **역할**: RAM은 프로세스가 실행되는 메모리 공간입니다. 여기에는 프로그램의 명령어와 데이터가 저장된다.
- **작동 방식**: 프로세스의 명령어는 RAM에 저장되며, CPU는 이 명령어를 읽고 실행한다. 데이터도 RAM에 저장되어 CPU가 처리할 수 있다. 단, RAM에서의 데이터 처리는 일시적으로 컴퓨터가 종료되면 저장된 모든 정보는 사라진다.

## 연속 메모리 할당 및 분할

### **연속 메모리 할당**
- **이유**: 연속 메모리 할당은 프로세스의 메모리 관리를 단순화한다. 프로세스는 메모리의 연속된 블록에 저장되므로, 메모리 관리와 접근이 용이하다.

### **메모리 분할 기법**
- **고정 분할**(Fixed Partitioning)
  - **장점**: 구현이 간단하고 예측 가능하다. 
  - **단점**: 메모리 공간의 낭비가 발생할 수 있고(Internal Fragmentation), 크기가 다양한 프로세스를 효율적으로 수용하기 어렵다.
- **동적 분할**(Dynamic Partitioning)
  - **장점**: 프로세스의 크기에 맞춰 메모리 공간을 할당하여 공간 활용도를 높인다.
  - **단점**: 외부 단편화(External Fragmentation) 문제가 발생할 수 있다.

## 페이징 및 세그먼테이션

### **페이징(Paging)**
- **정의**: 페이징은 메모리를 일정한 크기(페이지)로 분할하여, 프로세스를 페이지 단위로 나누어 메모리에 적재하는 기술이다. 
- **목적**: 메모리 관리의 복잡성을 줄이고, 외부 단편화 문제 해결에 도움을 준다.
- **동작 원리**: 각 페이지는 물리적 메모리의 프레임에 매핑되며, 프로세스는 페이지 테이블을 사용하여 물리적 주소로의 변환을 수행하고, 이를 통해 메모리에 접근한다.

### **세그먼테이션(Segmentation)**
- **정의**: 세그먼테이션은 메모리를 서로 다른 크기의 세그먼트로 나누는 기술이다. 각 세그먼트는 프로그램의 논리적인 단위를 나타낸다.
- **세그먼트**: 함수, 객체 등 프로그램의 논리적 단위를 나타내는 메모리 블록.

## 가상 메모리

### **가상 메모리의 역할**
- 가상 메모리는 물리적 메모리 크기를 초과하는 프로그램을 실행할 수 있게 하며, 프로세스는 필요한 부분만 주 메모리에 적재한다.
- 실제 물리적 메모리보다 큰 가상의 주소 공간을 갖게 되어 큰 프로그램을 용이하게 처리할 수 있다.

### **페이지 교체 알고리즘**
- **중요성**: 페이지 교체 알고리즘은 물리적 메모리가 부족할 때 어떤 페이지를 보조 메모리로 이동시킬지 결정한다.
- **동작 원리**: 시스템은 더 이상 사용되지 않는 페이지를 선택하여 보조 메모리로 이동시키고, 새로운 페이지를 물리적 메모리에 적재한다.
- **예시**: LRU(Least Recently Used)는 가장 오랫동안 사용되지 않은 페이지를 교체한다. FIFO는 가장 먼저 메모리에 적재된 페이지를 교체한다.
